---
import Layout from '../../layouts/Layout.astro';
import Footer from '../../components/Footer.astro';
import { projects } from '../../data/content';

export async function getStaticPaths() {
  return projects.map(p => ({
    params: { slug: p.id },
    props: { project: p },
  }));
}

const { project } = Astro.props;
---

<Layout title={project.title}>
  <article class="project-page container">
    <div class="spacer"></div>
    
    <header class="proj-header">
      <h1 class="title">{project.title}</h1>
      <div class="meta-row">
        <div>
          <span class="label">Category</span>
          <span>{project.category}</span>
        </div>
        <div>
          <span class="label">Year</span>
          <span>{project.year}</span>
        </div>
      </div>
    </header>

    <div class="banner-img">
       <img src={project.image} alt={project.title} />
    </div>

    <div class="content">
      <p class="intro">{project.description}</p>
      <div class="body-text">
        {project.content}
        </div>
    </div>

    <div style="margin-top: 6rem;">
        <Footer />
    </div>
  </article>
</Layout>

<style>
  .spacer { height: 120px; } /* 避开 Navbar */
  
  .proj-header { margin-bottom: 3rem; }
  .title { font-size: 3rem; font-weight: 400; margin-bottom: 2rem; }
  
  .meta-row {
    display: flex; gap: 4rem; border-top: 1px solid var(--border-color);
    padding-top: 1.5rem;
  }
  .label { display: block; color: var(--text-muted); font-size: 0.8rem; margin-bottom: 0.2rem; text-transform: uppercase; }
  
  .banner-img img { width: 100%; height: auto; display: block; }
  
  .content { max-width: 800px; margin: 4rem auto; }
  .intro { font-size: 1.4rem; line-height: 1.5; margin-bottom: 2rem; }
  .body-text { color: #ccc; line-height: 1.7; }
</style>
